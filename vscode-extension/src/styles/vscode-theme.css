/**
 * HAPA Extension - VS Code 테마 색상 시스템
 * VS Code의 모든 네이티브 색상 토큰을 활용한 완벽한 테마 통합
 */

/* ========================================
   VS Code 기본 색상 (Common Colors)
======================================== */
:root {
  /* 포커스 및 선택 */
  --hapa-focus-border: var(--vscode-focusBorder);
  --hapa-selection-background: var(--vscode-selection-background);

  /* 전경색 계층 */
  --hapa-foreground: var(--vscode-foreground);
  --hapa-description-foreground: var(--vscode-descriptionForeground);
  --hapa-disabled-foreground: var(--vscode-disabledForeground);

  /* 오류 및 상태 */
  --hapa-error-foreground: var(--vscode-errorForeground);
  --hapa-error-background: var(--vscode-errorBackground);
  --hapa-warning-foreground: var(--vscode-warningForeground);
  --hapa-warning-background: var(--vscode-warningBackground);
  --hapa-info-foreground: var(--vscode-infoForeground);
  --hapa-info-background: var(--vscode-infoBackground);

  /* 아이콘 */
  --hapa-icon-foreground: var(--vscode-icon-foreground);
  --hapa-symbolic-icon-foreground: var(--vscode-symbolIcon-colorForeground);
}

/* ========================================
   에디터 관련 색상 (Editor Colors)
======================================== */
:root {
  /* 에디터 배경 */
  --hapa-editor-background: var(--vscode-editor-background);
  --hapa-editor-foreground: var(--vscode-editor-foreground);

  /* 선택 및 하이라이트 */
  --hapa-editor-selection-background: var(--vscode-editor-selectionBackground);
  --hapa-editor-selection-foreground: var(--vscode-editor-selectionForeground);
  --hapa-editor-selection-highlight-background: var(
    --vscode-editor-selectionHighlightBackground
  );

  /* 라인 하이라이트 */
  --hapa-editor-line-highlight-background: var(
    --vscode-editor-lineHighlightBackground
  );
  --hapa-editor-line-highlight-border: var(--vscode-editor-lineHighlightBorder);

  /* 코드 블록 */
  --hapa-text-code-block-background: var(--vscode-textCodeBlock-background);
  --hapa-text-preformat-foreground: var(--vscode-textPreformat-foreground);

  /* 링크 */
  --hapa-text-link-foreground: var(--vscode-textLink-foreground);
  --hapa-text-link-active-foreground: var(--vscode-textLink-activeForeground);
}

/* ========================================
   입력 요소 색상 (Input Colors)
======================================== */
:root {
  /* 기본 입력 */
  --hapa-input-background: var(--vscode-input-background);
  --hapa-input-foreground: var(--vscode-input-foreground);
  --hapa-input-border: var(--vscode-input-border);
  --hapa-input-placeholder-foreground: var(
    --vscode-input-placeholderForeground
  );

  /* 입력 검증 */
  --hapa-input-validation-info-background: var(
    --vscode-inputValidation-infoBackground
  );
  --hapa-input-validation-info-border: var(--vscode-inputValidation-infoBorder);
  --hapa-input-validation-warning-background: var(
    --vscode-inputValidation-warningBackground
  );
  --hapa-input-validation-warning-border: var(
    --vscode-inputValidation-warningBorder
  );
  --hapa-input-validation-error-background: var(
    --vscode-inputValidation-errorBackground
  );
  --hapa-input-validation-error-border: var(
    --vscode-inputValidation-errorBorder
  );

  /* 드롭다운 */
  --hapa-dropdown-background: var(--vscode-dropdown-background);
  --hapa-dropdown-foreground: var(--vscode-dropdown-foreground);
  --hapa-dropdown-border: var(--vscode-dropdown-border);
}

/* ========================================
   버튼 색상 (Button Colors)
======================================== */
:root {
  /* 기본 버튼 */
  --hapa-button-background: var(--vscode-button-background);
  --hapa-button-foreground: var(--vscode-button-foreground);
  --hapa-button-hover-background: var(--vscode-button-hoverBackground);

  /* 보조 버튼 */
  --hapa-button-secondary-background: var(--vscode-button-secondaryBackground);
  --hapa-button-secondary-foreground: var(--vscode-button-secondaryForeground);
  --hapa-button-secondary-hover-background: var(
    --vscode-button-secondaryHoverBackground
  );
}

/* ========================================
   패널 및 컨테이너 색상 (Panel Colors)
======================================== */
:root {
  /* 패널 */
  --hapa-panel-background: var(--vscode-panel-background);
  --hapa-panel-border: var(--vscode-panel-border);
  --hapa-panel-drop-background: var(--vscode-panel-dropBackground);

  /* 사이드바 */
  --hapa-sidebar-background: var(--vscode-sideBar-background);
  --hapa-sidebar-foreground: var(--vscode-sideBar-foreground);
  --hapa-sidebar-border: var(--vscode-sideBar-border);
  --hapa-sidebar-section-header-background: var(
    --vscode-sideBarSectionHeader-background
  );
  --hapa-sidebar-section-header-foreground: var(
    --vscode-sideBarSectionHeader-foreground
  );
  --hapa-sidebar-section-header-border: var(
    --vscode-sideBarSectionHeader-border
  );

  /* 활동 표시줄 */
  --hapa-activity-bar-background: var(--vscode-activityBar-background);
  --hapa-activity-bar-foreground: var(--vscode-activityBar-foreground);
  --hapa-activity-bar-border: var(--vscode-activityBar-border);
  --hapa-activity-bar-active-background: var(--vscode-activityBar-activeBorder);

  /* 웹뷰 */
  --hapa-webview-panel-background: var(--vscode-webviewPanel-background);
}

/* ========================================
   목록 및 트리 색상 (List Colors)
======================================== */
:root {
  /* 목록 항목 */
  --hapa-list-active-selection-background: var(
    --vscode-list-activeSelectionBackground
  );
  --hapa-list-active-selection-foreground: var(
    --vscode-list-activeSelectionForeground
  );
  --hapa-list-inactive-selection-background: var(
    --vscode-list-inactiveSelectionBackground
  );
  --hapa-list-inactive-selection-foreground: var(
    --vscode-list-inactiveSelectionForeground
  );

  /* 목록 호버 */
  --hapa-list-hover-background: var(--vscode-list-hoverBackground);
  --hapa-list-hover-foreground: var(--vscode-list-hoverForeground);

  /* 목록 포커스 */
  --hapa-list-focus-background: var(--vscode-list-focusBackground);
  --hapa-list-focus-foreground: var(--vscode-list-focusForeground);

  /* 트리 들여쓰기 */
  --hapa-tree-indent-guide-stroke: var(--vscode-tree-indentGuidesStroke);
  --hapa-tree-indent-guide-active-stroke: var(
    --vscode-tree-indentGuidesActiveStroke
  );
}

/* ========================================
   배지 및 알림 색상 (Badge Colors)
======================================== */
:root {
  /* 배지 */
  --hapa-badge-background: var(--vscode-badge-background);
  --hapa-badge-foreground: var(--vscode-badge-foreground);

  /* 진행률 */
  --hapa-progress-background: var(--vscode-progressBar-background);

  /* 알림 */
  --hapa-notification-background: var(--vscode-notifications-background);
  --hapa-notification-foreground: var(--vscode-notifications-foreground);
  --hapa-notification-border: var(--vscode-notifications-border);
}

/* ========================================
   스크롤바 색상 (Scrollbar Colors)
======================================== */
:root {
  /* 스크롤바 */
  --hapa-scrollbar-shadow: var(--vscode-scrollbar-shadow);
  --hapa-scrollbar-slider-background: var(--vscode-scrollbarSlider-background);
  --hapa-scrollbar-slider-hover-background: var(
    --vscode-scrollbarSlider-hoverBackground
  );
  --hapa-scrollbar-slider-active-background: var(
    --vscode-scrollbarSlider-activeBackground
  );
}

/* ========================================
   터미널 색상 (Terminal Colors)
======================================== */
:root {
  /* 터미널 */
  --hapa-terminal-foreground: var(--vscode-terminal-foreground);
  --hapa-terminal-background: var(--vscode-terminal-background);
  --hapa-terminal-selection-background: var(
    --vscode-terminal-selectionBackground
  );

  /* 터미널 ANSI 색상 */
  --hapa-terminal-ansi-black: var(--vscode-terminal-ansiBlack);
  --hapa-terminal-ansi-red: var(--vscode-terminal-ansiRed);
  --hapa-terminal-ansi-green: var(--vscode-terminal-ansiGreen);
  --hapa-terminal-ansi-yellow: var(--vscode-terminal-ansiYellow);
  --hapa-terminal-ansi-blue: var(--vscode-terminal-ansiBlue);
  --hapa-terminal-ansi-magenta: var(--vscode-terminal-ansiMagenta);
  --hapa-terminal-ansi-cyan: var(--vscode-terminal-ansiCyan);
  --hapa-terminal-ansi-white: var(--vscode-terminal-ansiWhite);

  /* 밝은 ANSI 색상 */
  --hapa-terminal-ansi-bright-black: var(--vscode-terminal-ansiBrightBlack);
  --hapa-terminal-ansi-bright-red: var(--vscode-terminal-ansiBrightRed);
  --hapa-terminal-ansi-bright-green: var(--vscode-terminal-ansiBrightGreen);
  --hapa-terminal-ansi-bright-yellow: var(--vscode-terminal-ansiBrightYellow);
  --hapa-terminal-ansi-bright-blue: var(--vscode-terminal-ansiBrightBlue);
  --hapa-terminal-ansi-bright-magenta: var(--vscode-terminal-ansiBrightMagenta);
  --hapa-terminal-ansi-bright-cyan: var(--vscode-terminal-ansiBrightCyan);
  --hapa-terminal-ansi-bright-white: var(--vscode-terminal-ansiBrightWhite);
}

/* ========================================
   깃 색상 (Git Colors)
======================================== */
:root {
  /* Git 장식 */
  --hapa-git-decoration-modified-resource-foreground: var(
    --vscode-gitDecoration-modifiedResourceForeground
  );
  --hapa-git-decoration-deleted-resource-foreground: var(
    --vscode-gitDecoration-deletedResourceForeground
  );
  --hapa-git-decoration-untracked-resource-foreground: var(
    --vscode-gitDecoration-untrackedResourceForeground
  );
  --hapa-git-decoration-ignored-resource-foreground: var(
    --vscode-gitDecoration-ignoredResourceForeground
  );
  --hapa-git-decoration-conflicting-resource-foreground: var(
    --vscode-gitDecoration-conflictingResourceForeground
  );
  --hapa-git-decoration-submodule-resource-foreground: var(
    --vscode-gitDecoration-submoduleResourceForeground
  );
}

/* ========================================
   Peek View 색상 (Peek View Colors)
======================================== */
:root {
  /* Peek View */
  --hapa-peek-view-border: var(--vscode-peekView-border);
  --hapa-peek-view-editor-background: var(--vscode-peekViewEditor-background);
  --hapa-peek-view-editor-gutter-background: var(
    --vscode-peekViewEditorGutter-background
  );
  --hapa-peek-view-result-background: var(--vscode-peekViewResult-background);
  --hapa-peek-view-result-foreground: var(--vscode-peekViewResult-foreground);
  --hapa-peek-view-result-selection-background: var(
    --vscode-peekViewResult-selectionBackground
  );
  --hapa-peek-view-result-selection-foreground: var(
    --vscode-peekViewResult-selectionForeground
  );
  --hapa-peek-view-title-background: var(--vscode-peekViewTitle-background);
  --hapa-peek-view-title-foreground: var(
    --vscode-peekViewTitleDescription-foreground
  );
}

/* ========================================
   HAPA 커스텀 색상 팔레트
======================================== */
:root {
  /* 브랜드 색상 (VS Code 호환) */
  --hapa-primary: #007acc;
  --hapa-primary-hover: #005a9e;
  --hapa-primary-active: #004578;
  --hapa-primary-light: rgba(0, 122, 204, 0.1);

  /* 상태 색상 */
  --hapa-success: #4caf50;
  --hapa-success-light: rgba(76, 175, 80, 0.1);
  --hapa-warning: #ff9800;
  --hapa-warning-light: rgba(255, 152, 0, 0.1);
  --hapa-error: #f44336;
  --hapa-error-light: rgba(244, 67, 54, 0.1);

  /* 그라데이션 */
  --hapa-gradient-primary: linear-gradient(135deg, #007acc 0%, #40a9ff 100%);
  --hapa-gradient-success: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%);
  --hapa-gradient-warning: linear-gradient(135deg, #ff9800 0%, #ffc107 100%);
  --hapa-gradient-error: linear-gradient(135deg, #f44336 0%, #ff5722 100%);

  /* 그림자 (테마 적응형) */
  --hapa-shadow-small: 0 1px 3px rgba(0, 0, 0, 0.12),
    0 1px 2px rgba(0, 0, 0, 0.24);
  --hapa-shadow-medium: 0 3px 6px rgba(0, 0, 0, 0.16),
    0 3px 6px rgba(0, 0, 0, 0.23);
  --hapa-shadow-large: 0 10px 20px rgba(0, 0, 0, 0.19),
    0 6px 6px rgba(0, 0, 0, 0.23);

  /* 투명도 레이어 */
  --hapa-overlay-light: rgba(255, 255, 255, 0.05);
  --hapa-overlay-medium: rgba(255, 255, 255, 0.1);
  --hapa-overlay-heavy: rgba(255, 255, 255, 0.2);
}

/* ========================================
   다크 테마 감지 및 조정
======================================== */
@media (prefers-color-scheme: dark) {
  :root {
    /* 다크 테마에서 그림자 조정 */
    --hapa-shadow-small: 0 1px 3px rgba(0, 0, 0, 0.3),
      0 1px 2px rgba(0, 0, 0, 0.4);
    --hapa-shadow-medium: 0 3px 6px rgba(0, 0, 0, 0.4),
      0 3px 6px rgba(0, 0, 0, 0.5);
    --hapa-shadow-large: 0 10px 20px rgba(0, 0, 0, 0.5),
      0 6px 6px rgba(0, 0, 0, 0.6);

    /* 다크 테마 오버레이 */
    --hapa-overlay-light: rgba(255, 255, 255, 0.03);
    --hapa-overlay-medium: rgba(255, 255, 255, 0.06);
    --hapa-overlay-heavy: rgba(255, 255, 255, 0.1);
  }
}

/* ========================================
   고대비 테마 지원
======================================== */
@media (prefers-contrast: high) {
  :root {
    --hapa-focus-border: #ffbf00;
    --hapa-primary: #0078d4;
    --hapa-button-background: #0078d4;
    --hapa-input-border: #0078d4;
  }
}

/* ========================================
   움직임 감소 설정 지원
======================================== */
@media (prefers-reduced-motion: reduce) {
  :root {
    --hapa-animation-duration: 0ms;
    --hapa-transition-duration: 0ms;
  }
}

/* ========================================
   유틸리티 클래스
======================================== */
.hapa-theme-border {
  border-color: var(--hapa-panel-border);
}

.hapa-theme-bg-primary {
  background-color: var(--hapa-primary);
  color: white;
}

.hapa-theme-bg-secondary {
  background-color: var(--hapa-sidebar-background);
  color: var(--hapa-sidebar-foreground);
}

.hapa-theme-text-primary {
  color: var(--hapa-foreground);
}

.hapa-theme-text-secondary {
  color: var(--hapa-description-foreground);
}

.hapa-theme-text-error {
  color: var(--hapa-error-foreground);
}

.hapa-theme-text-warning {
  color: var(--hapa-warning-foreground);
}

.hapa-theme-text-success {
  color: var(--hapa-success);
}

.hapa-theme-input {
  background-color: var(--hapa-input-background);
  color: var(--hapa-input-foreground);
  border-color: var(--hapa-input-border);
}

.hapa-theme-button {
  background-color: var(--hapa-button-background);
  color: var(--hapa-button-foreground);
}

.hapa-theme-button:hover {
  background-color: var(--hapa-button-hover-background);
}

.hapa-theme-button-secondary {
  background-color: var(--hapa-button-secondary-background);
  color: var(--hapa-button-secondary-foreground);
}

.hapa-theme-button-secondary:hover {
  background-color: var(--hapa-button-secondary-hover-background);
}

.hapa-theme-list-item:hover {
  background-color: var(--hapa-list-hover-background);
  color: var(--hapa-list-hover-foreground);
}

.hapa-theme-list-item-selected {
  background-color: var(--hapa-list-active-selection-background);
  color: var(--hapa-list-active-selection-foreground);
}
